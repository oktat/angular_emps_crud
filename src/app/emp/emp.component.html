
<!-- Button trigger modal -->
<button 
    type="button" 
    class="btn btn-primary m-2" 
    data-bs-toggle="modal" 
    data-bs-target="#addModal"
    (click)="addMode = true"
    >
    Hozzáadás
</button>

<button 
class="btn btn-primary me-2" 
(click)="previousPage()"
[disabled]="currentPage === 1"
>Előző</button>

<button
class="btn btn-primary"
(click)="nextPage()"
[disabled]="currentPage === totalPages"
>Következő</button>

<table class="table table-striped">
    <caption>Dolgozók</caption>
    <thead>
        <tr>
            <th>Id</th>
            <th>Név</th>
            <th>Település</th>
            <th>Fizetés</th>
        </tr>
    </thead>
    <tbody>
        @for (emp of pagedEmployees; track emp) {
            <tr>
                <td>{{emp.id}}</td>
                <td>{{emp.name}}</td>
                <td>{{emp.city}}</td>
                <td>{{emp.salary}}</td>
                <td>
                  <button 
                    type="button"
                    data-bs-target="#addModal"
                    data-bs-toggle="modal"
                    class="btn btn-primary"
                    (click)="editEmployee(emp)"
                    >
                    Szerkesztés
                  </button>
                </td>
                <td>
                  <button 
                    type="button"
                    class="btn btn-danger"
                    (click)="deleteEmployee(emp.id)"
                    >
                    Törlés
                  </button>
                </td>
            </tr>
        }
    </tbody>
</table>



  
<!-- Modal -->
<div class="modal fade" id="addModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="exampleModalLabel">
            @if (addMode) {
              Hozzáadás
            } @else {
              Módosítás
            }
          </h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">



            <form [formGroup]="empForm" (ngSubmit)="saveEmployee()" 
            id="empForm">
                <div class="mb-3">
                  <label for="name" class="form-label">Id</label>
                  <input type="text" class="form-control" id="name"
                  formControlName="id"
                  readonly>
                </div>
                <div class="mb-3">
                  <label for="name" class="form-label">Név</label>
                  <input type="text" class="form-control" id="name"
                  formControlName="name">
                </div>
                <div class="mb-3">
                  <label for="city" class="form-label">Település</label>
                  <input type="text" class="form-control" id="city"
                  formControlName="city">
                </div>
                <div class="mb-3">
                  <label for="salary" class="form-label">Fizetés</label>
                  <input type="text" class="form-control" id="salary"
                  formControlName="salary">
                </div>
            </form>            

        </div>
        <div class="modal-footer">
          <button 
            type="submit" 
            class="btn btn-secondary" 
            data-bs-dismiss="modal"
            form="empForm"
            >
            Close</button>
          
          <button 
            type="submit" 
            class="btn btn-primary"
            data-bs-dismiss="modal"
            form="empForm"
            >
            Mentés</button>
        </div>
      </div>
    </div>
  </div>